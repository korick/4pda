https://github.com/korick/4pda/raw/master/NetGuard/rme_NetGuard.txt
Notepad++ https://notepad-plus-plus.org/downloads
.\plugins\DSpellCheck\ https://github.com/Predelnik/DSpellCheck/releases/
.\plugins\Config\Hunspell\ru_RU.aff, ru_RU.dic https://github.com/LibreOffice/dictionaries/ru_RU/
UTF-8
подготовлено участниками форума 4pda.ru








разрешить приложению: автозапуск (если надо при перезагрузке тела, сразу загружалось MPE), работу в фоне, "заряд не экономить"
Во внутренней памяти ~8Mb, в оперативной памяти ~120Mb.

Обычный пользователь, не суперпользователь (без рут прав), владелец девайса, он не может изменять настройки ОС или может в определённых ограниченных рамках. Настоящим владельцем девайса является прошивка, оболочка, система, ОС Android (A): работает в автоматическом режиме, самодостаточна, автономна. Когда пользователь просит свой девайс о чём-то, он создаёт нарушения прерывания, которые мешают спокойствию внутреннему балансу ОС.
Разработчик разрабатывает специальное приложение NG, которое блокирует интернет, оно по-умолчанию уже должно это делать. ОС пытается всячески сопротивляться внешнему давлению. Пользователь может в своих рамках сконфигурировать работу этого приложения, итак:
- проверьте разрешения предоставленные NG: автозапуск (без разницы), запуск в фоне, неограниченная работа в фоне, контроль активности без ограничений, не выгружать ПО, не удалять встроенными штатными утилитами, таск-киллерами
- уведомления: стандартных правил для уведомлений будет достаточно
- у NG особенность, нужно чтобы уведомление висело в шторке
- разработчик предусмотрел возможность перезагрузки ПО, после его выгрузки:
- - Настройки-Опции-Авто запуск через-1, 2, 10мин
- - Настройки-Дополнительные Опции-Сторожевой таймер: каждые Хмин (первого пункта будет достаточно)
- поставить замочек на NG в меню запущенных приложений
- если ничего не помогает:
- - сменить версию, предварительно узнав какая подходит под ваш девайс
- - обратиться к разработчику (напрямую или через пользователей темы), предоставив необходимую информацию для решения вашей проблемы

NG только запрещает-разрешает доступ к интернету, если после включения экрана, разблокировки экрана сабж в шторке, значит он работает в фоновом режиме, так как надо.
Для получения мгновенных сообщений, допустим с серверов Viber, в фоне должны работать и NG и Viber, делаем всё то-же самое и предоставляем разрешения и NG и Viber.

NG это не резалка/блокировка рекламы и всего остального, это файервол с нормальным мониторингом IP, насколько знаю, вообще единственный способ заблокировать любому приложению доступ в интернет на нерутованом телефоне (кроме тех, что на уровне ядра, может меня поправят?)
Приложение должно стоять на всём, чём только можно. Не вздумай удалять, лучше сядь и разберись с настройкой приложения.
Чем скорее разберёшся с функционалом тем лучше: просто, стабильно, универсально, резалка рекламы - в виде бонуса, но тогда отключается файервол
прикольные фишки:
- экран включён - интернет есть, выключен - нету, кроме разрешённых приложений
- проброс портов, proxy socks5
- можно настроить работу dns, dnscrypt, tor

AFWall+ работает через рут и iptables, NetGuard - через VPN, если нужно подключится к другому VPN или OpenVPN, то фаервол выключится.


--- НАЧАЛО инструкция по настройке NG

NG NetGuard + Viber = онлайн сообщения мессенджера приходят сразу, экран телефона выключен

качаешь NetGuard_2.269_mod_DS_lite
https://4pda.ru/forum/index.php?showtopic=700336&view=findpost&p=90805110

TESTING для чистоты эксперимента
Тестирование - если что-то происходит и не можешь нормально настроить приложение
удалить NG (удалить данные и кеш, удалить само приложение) - перезагрузка - установить NG - перезагрузка - запустить NG, настройка опций, установка правил для приложений, проверка приложений - просмотр журнала

проверяем свойства NG:
настройки-все приложения-NG-свойства NG:
или
зажать ярлык NG на рабочем столе-О приложении-смотрим свойства NG:

это на прошивке MIUI: стандартные настройки приложения NG
Автозапуск-без разницы: вкл или выкл
Разрешения приложения-вкл все галочки: телефон
Другие Разрешения-вкл все галочки: экран блокировки, запуск в фоне
Уведомления-вкл: да
Сетевые подключения-вкл все галочки: wi-fi, 3g, 4g
Контроль активности-нет ограничений, (работа в фоне полный доступ, не контролировать)
Полноэкранный режим-без разницы: вкл или выкл
Установка из неизв. источников-выкл

это на прошивке MIUI: для работы в фоне
Настройки-Все приложения-NG-Контроль активности:
+ нет ограничений;
- умный режим (не влияет на получение уведомлений);
- мягкое ограничение (влияет на получение уведомлений);
- жёсткое ограничение (закрыто в фоновом режиме)

первый раз запускаешь NG: появляющиеся информационные начальные окошки или читаешь или если уже раньше читал просто всё закрываешь
NG-Меню-Настройки-Дополнительные опции-Управлять сист. приложениями-вкл или выкл, выкл если уже раньше смотрел и знаешь что сист. приложений много

NG работает в 2-х режимах:
1 режим блокировка интернет трафика приложений
2 режим блокировка рекламы приложений через файл host (не основная, вторичная, багованная функция)
если блокируем по 1пункту - 2пункт не работает
если блокируем по 2пункту - 1пункт не работает
т.к. рассматриваем 1пункт, то 2пункт пока не разбираем, т.е. блокировка рекламы - выкл

включаем блокировку интернета NG-(верхний тулбар)-вкл
сортируем: (верхний тулбар, чуть правее): показать пользовательск., показать сист., показать приложения без, показать отключённые приложения-все вкл
сортируем: (верхний тулбар, чуть правее): сортировать по имени

Меню-Настройки:
вроде там всё по-умолчанию, при выгрузке NG запустить опять через 1мин (время как угодно)

В главном окне NG свайпом вниз, обновляем все приложения
У тебя 200-300 приложений, вместо того чтобы всем запрещать -> нескольким разрешаем [1-2-10 приложениям] доступ в интернет, остальные будут запрещены по-умолчанию через Меню-Блокировка трафика по-умолчанию-вкл

теория:
смотришь на приложение в списке (должны отображаться только твои пользовательские приложения, что сам установил):
и задаёшь себе вопрос нужен ли доступ данному ПО в интернет или нет

Пример:
[ приложение Х1 ] - выходит в интернет и без интернета не работает, я это ПО установил сам, я нажимаю на ярлык на рабочем столе, я им пользуюсь и доступ в интернет ему полюбому надо, без интернета не работает - тогда ВКЛЮЧИТЬ
[ приложение Х2 ] - я это ПО не устанавливал, что за странное название, ярлыка на рабочем столе нет - тогда ВЫКЛЮЧИТЬ

Это твои приложения:
Глобус - выходит - ВКЛ
Диспетчер загрузки - выходит - ВЫКЛ
на скачивание файлов не влияет, на рабочем столе ярлыка нет, пользуйся отдельной качалкой IDM+
Загрузки - ВЫКЛ
ДТП.Европротокол - ВКЛ
Запись экрана - ВЫКЛ
Заставки - ВЫКЛ
Калькулятор - ВЫКЛ
Камера - ВЫКЛ
Календарь - ВЫКЛ
не пользуюсь синхронизацией в облаке, если пользуешься - ВКЛ
Авито - ВКЛ
Автодок - ВКЛ
Аптека.RU - ВКЛ

практика:
итак у нас есть:
-   блокированное ПО: нет интернета
- неблокированное ПО: есть интернет при вкл экране: Youtube
- неблокированное ПО: есть интернет при вкл-выкл экране: качалка IDM+ в фоне, Viber в фоне

настраиваем правила глобальные:
Меню-Блокировка трафика по-умолчанию-вкл
см. картинку 20.scrn_настройки.png

настраиваем правила для отдельных приложений:
- Chrome  - при вкл-выкл экране    : см. картинку 22. work screen off Chrome.png
- Viber   - при вкл-выкл экране    : см. картинку 23. work screen off Viber.png
- Youtube - при вкл экране         : см. картинку 24. work screen only on Youtube.png

- приложения с замочком:
без интеренета по-умолчанию
- приложения без замочка:
в свойствах [1-2-10 приложений] ставишь чекбокс Разрешить в режиме блокировки трафика
24. scrn Youtube.png
- приложения без замочка работают при выкл экране в фоне:
в свойствах [1-2-10 приложений] ставишь чекбокс Разрешить в режиме блокировки трафика + разрешение на работу в фоне
22. scrn Chrome.png, 23. scrn Viber.png.

настройка NG закончена: разрешённые приложения идут в сеть чз wi-fi и мобильный интернет

проверено на моём девайсе всё фунциклирует




--- ПРОДОЛЕНИЕ фоновое ограничение

При выключении экрана, телефон спит,
а приложения в фоне ему мешают спать: расходуют батарею, держат активные соединения с интернетом итп итд
поэтому специальные приложения таск-киллеры, greenify, doze или подобное сразу или через некоторое время могут позакрывать приложения работающие в фоновом режиме, это происходит или автоматически или по графику:
- настройки таск-килера
- настройки встроенного в саму прошивку менеджера приложений
- разряд батареи телефона и включение режима экономии батареи

чтобы этого не случилось есть настройка разрешающая работать приложению в фоне

NG должен работать в фоне постоянно




--- ПРОДОЛЕНИЕ почему у меня NG не держится в фоне и вылетает, закрывается

устанавливал ли сам Специальные программы, отвечающие за энергосбережение ?
установлен Asus Power Manager, Power Manager Mobile, Asus Power Master ?

где искать настройки фоновой активности ?
на разных телефонах (производителей) по-разному, на разных прошивках по-разному:
Настройки-Поиск-поиск по словам "фон", "батарея", "питание и производительность", "приложения в фоне", "фоновая проверка", "", "", 
; Защита конфиденциальности-Дополнительно-Фон
; Приложения и уведомления-Специальный доступ-Экономия заряда батареи-NG-выкл

у вас прошивка на голом андроид 8.1 с предустановленными заводскими приложениями ?
если у тебя голый андроид 8.1, см. конкретно по своему телу, у тебя будет по-другому




--- ПРОДОЛЕНИЕ Viber не приходят уведомления
мгновенные сообщения онлайн мессенджеров, сообщения онлайн-банков, приходят не сразу, ждут включения экрана

У приложения Viber всё то-же самое те-же настройки как и у NG для работы в фоне: приложение работает в фоне постоянно

не приходят уведомления:
- настройки неправильные - установки д.б. выставлены как выше: работа в фоне для приложения, работа в фоне приложения с интернетом
- попробовать полностью выгрузить, удалить NG и понаблюдать за работой проблемных приложений, найти так сказать виновного
- особенности прошивки
- спросить в теме своего девайса, своей прошивки













































